#include "<ll>/rta3x/a3x.h"

var DiskNode 0
public DiskNode

procedure IDiskInit (* bootdev -- *)
	DiskNode!
end

procedure IReadBlock { block buf -- }
	DiskNode@ a3xDeviceSelectNode
		buf@ block@ "readBlock" a3xDCallMethod drop drop
	a3xDeviceExit
end

procedure IWriteBlock { block buf -- }
	DiskNode@ a3xDeviceSelectNode
		buf@ block@ "writeBlock" a3xDCallMethod drop drop
	a3xDeviceExit
end