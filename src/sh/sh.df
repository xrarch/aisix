#include "<df>/dragonfruit.h"
#include "<ll>/rtaisix/aisix.h"

fn Main { ... -- ret }
	auto prompt
	256 Malloc prompt!

	while (1)
		"# " Printf
		if (prompt@ 255 Readline)
			0 Exit
		end

		auto r
		prompt@ Spawn r!

		if (r@ iserr)
			r@ abs r!
			[r@]ErrorNames@ "sh: couldn't spawn: %s\n" Printf
		end else
			r@ "pid=%d\n" Printf
		end
	end
end